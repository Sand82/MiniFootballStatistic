@model TournamentPostModel

@{
    ViewData["Title"] = "Tournament SecondStep";
}

@{
    int num = 0;
}

<div class="container">
    <h1 style="margin-top: 50px; margin-bottom: 50px;">Wellcome to second part.</h1>

    <form class="form-group" method="Post">
        <h1>Tournament Name</h1>
        <div asp-validation-summary="All" class="small text-danger"></div>
        <div class="form-group" style="margin: 20px;">
            <label asp-for="Name"></label>
            <input asp-for="Name" class="form-control" placeholder="Tournament Name">
            <span asp-validation-for="Name" class="small text-danger"></span>
        </div>
        <div class="row">
           
                @for (var i = 0; i < Model.TournamentPositions; i++)
                {
                    int counter = 0;

                    <div class="col-md-6 " style="margin-top: 70px;">
                        <div class="card border-secondary mb-3" style="max-width: 18rem;">
                            <div class="card-body text-secondary">
                                <label asp-for="@Model.Teams[num].Name"></label>
                                <input asp-for="@Model.Teams[num].Name" style="margin: 5px;" class="form-control" placeholder="" value="Team @(i + 1)">
                                <span asp-validation-for="@Model.Teams[num].Name" class="small text-danger"></span>

                                <input asp-for="@Model.Teams[num].TournamentPosition" class="form-control" type="hidden" value="@(i + 1)">
                                <p class="card-text">You should add four players on each team. This is your @(i + 1) team.</p>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-4">

                        @for (var j = 0; j < 4; j++)
                        {
                            counter++;

                            <div class="form-group" style="margin: 40px;">
                                <label asp-for="@Model.Teams[num].Players[j].Name"></label>
                                <input asp-for="@Model.Teams[num].Players[j].Name" class="form-control" placeholder="Players @(counter) name" value="@(num +1)-@(counter)">
                                <span asp-validation-for="@Model.Teams[num].Players[j].Name" class="small text-danger"></span>
                            </div>
                        }
                    </div>
                    <hr>

                    num++;
                }
            
        </div>
        <button type="submit" class="btn btn-primary mt-4">Save Tournament with teams</button>
    </form>

</div>
@section Scripts 
{
     <partial name="_ValidationScriptsPartial"/>    
}